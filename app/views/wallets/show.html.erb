<section class="py-16 bg-gray-100">
  <div class="max-w-6xl mx-auto px-6">
    <!-- Wallet Summary Section -->
    <div class="bg-white shadow-lg rounded-lg p-8 mb-8">
      <%# <h2 class="text-3xl font-semibold text-gray-800 mb-4">Your Multi-Cryptocurrency Wallet</h2> %>
      <h2 class="text-xl text-gray-800 mb-4"><%= current_user.email %></h2>
      
      <!-- USD Balance Summary -->
      <div class="bg-green-100 p-4 rounded-lg mb-6">
        <h3 class="text-xl font-semibold text-green-600">Total Wallet Balance (USD)</h3>
        <p class="text-2xl font-bold text-gray-800" id="total-usd-balance">$12,345.67</p>
      </div>

      <!-- Wallet Information Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        
        <!-- Bitcoin Wallet -->
        <div class="bg-blue-50 p-6 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold text-blue-600">Bitcoin (BTC)</h3>
          <p class="text-gray-600">Balance: 0.25 BTC</p>
          <p class="text-sm text-gray-500">
            <span class="block">Address:</span>
            <span id="btc-address" data-addr="1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa" class="font-mono text-gray-700 cursor-pointer hover:text-blue-500" onclick="copyAddress('btc-address')">1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa</span>
          </p>
          <div class="mt-4 flex space-x-2">
            <button class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700" onclick="openTransactionModal('btc')">Send</button>
            <button class="bg-gray-200 text-blue-600 py-2 px-4 rounded-md hover:bg-gray-300" onclick="openTransactionModal('btc', 'receive')">Receive</button>
          </div>
        </div>

        <!-- Ethereum Wallet -->
        <div class="bg-green-50 p-6 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold text-green-600">Ethereum (ETH)</h3>
          <p class="text-gray-600">Balance: 5.30 ETH</p>
          <p class="text-sm text-gray-500">
            <span class="block">Address:</span>
            <span id="eth-address" data-addr="0x742d35Cc6634C0532925a3b844Bc454e4438f44e" class="font-mono text-gray-700 cursor-pointer hover:text-green-500" onclick="copyAddress('eth-address')"><%= truncate("0x742d35Cc6634C0532925a3b844Bc454e4438f44e", length: 35, omission: '...') %></span>
          </p>
          <div class="mt-4 flex space-x-2">
            <button class="bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700" onclick="openTransactionModal('eth')">Send</button>
            <button class="bg-gray-200 text-green-600 py-2 px-4 rounded-md hover:bg-gray-300" onclick="openTransactionModal('eth', 'receive')">Receive</button>
          </div>
        </div>

        <!-- Litecoin Wallet -->
        <div class="bg-gray-50 p-6 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold text-gray-600">Litecoin (LTC)</h3>
          <p class="text-gray-600">Balance: 15.00 LTC</p>
          <p class="text-sm text-gray-500">Address: 
            <span id="ltc-address" data-addr="Li3uZY1iEphcYPLBQY2Bx9vXqA9VePaHQ1" class="font-mono text-gray-700 cursor-pointer hover:text-gray-500" onclick="copyAddress('ltc-address')"><%= truncate("Li3uZY1iEphcYPLBQY2Bx9vXqA9VePaHQ1", length: 35, omission: '...') %></span>
          </p>
          <div class="mt-4 flex space-x-2">
            <button class="bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700" onclick="openTransactionModal('ltc')">Send</button>
            <button class="bg-gray-200 text-gray-600 py-2 px-4 rounded-md hover:bg-gray-300" onclick="openTransactionModal('ltc', 'receive')">Receive</button>
          </div>
        </div>

        <!-- Tron Wallet -->
        <div class="bg-yellow-50 p-6 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold text-yellow-600">Tron (TRX)</h3>
          <p class="text-gray-600">Balance: 1000.00 TRX</p>
          <p class="text-sm text-gray-500">Address: 
            <span id="trx-address" class="font-mono text-gray-700 cursor-pointer hover:text-yellow-500" onclick="copyAddress('trx-address')"><%= truncate("TExVb8V5d5dYPR9irxS3sTyqTpVm3fd34a", length: 35, omission: '...') %></span>
          </p>
          <div class="mt-4 flex space-x-2">
            <button class="bg-yellow-600 text-white py-2 px-4 rounded-md hover:bg-yellow-700" onclick="openTransactionModal('trx')">Send</button>
            <button class="bg-gray-200 text-yellow-600 py-2 px-4 rounded-md hover:bg-gray-300" onclick="openTransactionModal('trx', 'receive')">Receive</button>
          </div>
        </div>

        <!-- Solana Wallet -->
        <div class="bg-blue-100 p-6 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold text-blue-600">Solana (SOL)</h3>
          <p class="text-gray-600">Balance: 50.00 SOL</p>
          <p class="text-sm text-gray-500">Address: 
            <span id="sol-address" class="font-mono text-gray-700 cursor-pointer hover:text-blue-500" onclick="copyAddress('sol-address')"><%= truncate("A1gHRzB1mVv6pFh9Udd3CKyP5Vx4K7Ksm5kU7Hg16zLh", length: 35, omission: '...') %></span>
          </p>
          <div class="mt-4 flex space-x-2">
            <button class="bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700" onclick="openTransactionModal('sol')">Send</button>
            <button class="bg-gray-200 text-blue-600 py-2 px-4 rounded-md hover:bg-gray-300" onclick="openTransactionModal('sol', 'receive')">Receive</button>
          </div>
        </div>

        <!-- Polygon Wallet -->
        <div class="bg-pink-50 p-6 rounded-lg shadow-md">
          <h3 class="text-xl font-semibold text-pink-600">Polygon (MATIC)</h3>
          <p class="text-gray-600">Balance: 1000.00 MATIC</p>
          <p class="text-sm text-gray-500">Address: 
            <span id="matic-address" class="font-mono text-gray-700 cursor-pointer hover:text-pink-500" onclick="copyAddress('matic-address')"><%= truncate("0x5b8c8c346b0E601C0eEC9e251A4a62C7734FcD7d", length: 35, omission: '...') %></span>
          </p>
          <div class="mt-4 flex space-x-2">
            <button class="bg-pink-600 text-white py-2 px-4 rounded-md hover:bg-pink-700" onclick="openTransactionModal('matic')">Send</button>
            <button class="bg-gray-200 text-pink-600 py-2 px-4 rounded-md hover:bg-gray-300" onclick="openTransactionModal('matic', 'receive')">Receive</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Transaction History Section -->
    <div class="bg-white shadow-lg rounded-lg p-8 mb-8">
      <h3 class="text-2xl font-semibold text-gray-800 mb-4">Transaction History</h3>
      <table class="min-w-full bg-white shadow-md rounded-lg">
        <thead>
          <tr class="border-b">
            <th class="py-2 px-4 text-left text-gray-600">Date</th>
            <th class="py-2 px-4 text-left text-gray-600">Transaction ID</th>
            <th class="py-2 px-4 text-left text-gray-600">Amount</th>
            <th class="py-2 px-4 text-left text-gray-600">Status</th>
          </tr>
        </thead>
        <tbody id="transaction-table">
          <!-- Example transactions -->
          <tr class="border-b">
            <td class="py-2 px-4 text-gray-600">2024-11-10</td>
            <td class="py-2 px-4 text-blue-600">0x123456789abcdef</td>
            <td class="py-2 px-4 text-green-600">+0.50 BTC</td>
            <td class="py-2 px-4 text-green-600">Completed</td>
          </tr>
          <tr class="border-b">
            <td class="py-2 px-4 text-gray-600">2024-11-09</td>
            <td class="py-2 px-4 text-blue-600">0xabcdef123456789</td>
            <td class="py-2 px-4 text-red-600">-0.75 ETH</td>
            <td class="py-2 px-4 text-red-600">Pending</td>
          </tr>
          <!-- Additional Transactions will go here -->
        </tbody>
      </table>
      <div class="text-center">
        <button id="load-more" class="mt-4 text-blue-600 hover:text-blue-700" onclick="loadMoreTransactions()">Load More</button>
      </div>
    </div>
  </div>
</section>

<!-- Transaction Modal -->
<div id="transaction-modal" class="fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white rounded-lg p-8 w-1/3">
    <h3 id="transaction-type" class="text-2xl font-semibold text-gray-800 mb-4">Send Transaction</h3>
    <div class="space-y-4">
      <label class="block text-gray-600">Amount</label>
      <input type="text" class="w-full px-4 py-2 border rounded-md" placeholder="Enter amount">
      
      <label class="block text-gray-600">Recipient Address</label>
      <input type="text" class="w-full px-4 py-2 border rounded-md" placeholder="Enter address">
      
      <button id="transaction-action" class="bg-blue-600 text-white py-2 px-4 rounded-md mt-4 hover:bg-blue-700">Send</button>
      <button class="mt-4 bg-gray-300 text-gray-600 py-2 px-4 rounded-md" onclick="closeTransactionModal()">Cancel</button>
    </div>
  </div>
</div>

<!-- JavaScript for Copy Address, Transaction Modal, and Load More Transactions -->
<script>
  function copyAddress(id) {
    var address = document.getElementById(id).dataset.addr;
    var textarea = document.createElement('textarea');
    textarea.value = address;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
    alert("Address copied to clipboard!");
  }

  function openTransactionModal(currency, type = 'send') {
    var modal = document.getElementById('transaction-modal');
    var actionButton = document.getElementById('transaction-action');
    var transactionType = document.getElementById('transaction-type');

    if (type === 'receive') {
      actionButton.innerText = 'Receive';
      actionButton.classList.remove('bg-blue-600', 'hover:bg-blue-700');
      actionButton.classList.add('bg-green-600', 'hover:bg-green-700');
    } else {
      actionButton.innerText = 'Send';
      actionButton.classList.remove('bg-green-600', 'hover:bg-green-700');
      actionButton.classList.add('bg-blue-600', 'hover:bg-blue-700');
    }

    modal.classList.remove('hidden');
  }

  function closeTransactionModal() {
    var modal = document.getElementById('transaction-modal');
    modal.classList.add('hidden');
  }

  function loadMoreTransactions() {
    const transactionTable = document.getElementById('transaction-table');
    const newTransactions = [
      '<tr class="border-b"><td class="py-2 px-4 text-gray-600">2024-11-08</td><td class="py-2 px-4 text-blue-600">0xabcdefabcdefabc</td><td class="py-2 px-4 text-green-600">2.00 BTC</td><td class="py-2 px-4 text-green-600">Completed</td></tr>',
      '<tr class="border-b"><td class="py-2 px-4 text-gray-600">2024-11-07</td><td class="py-2 px-4 text-blue-600">0x123123123123123</td><td class="py-2 px-4 text-red-600">-1.00 ETH</td><td class="py-2 px-4 text-red-600">Pending</td></tr>'
    ];
    
    newTransactions.forEach(function(transaction) {
      transactionTable.innerHTML += transaction;
    });
  }
</script>
